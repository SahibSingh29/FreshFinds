{"ast":null,"code":"var _jsxFileName = \"D:\\\\react_django\\\\frontend\\\\src\\\\components\\\\PostList.js\",\n  _s = $RefreshSig$();\n// PostList.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport CommentForm from './CommentForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostList = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:8000/posts/').then(response => {\n      setPosts(response.data);\n    }).catch(error => {\n      console.error(\"There was an error fetching the posts!\", error);\n    });\n  }, []);\n  const handleLike = postId => {\n    axios.post(`http://localhost:8000/like/${postId}/`).then(response => {\n      console.log(response.data);\n      // Update the state to reflect the like change\n      setPosts(posts.map(post => post.id === postId ? {\n        ...post,\n        likes_count: post.likes_count + 1\n      } : post));\n    }).catch(error => console.error(\"Error liking post\", error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), post.image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:8000${post.image}`,\n        alt: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleLike(post.id),\n        children: [\"Like (\", post.likes_count, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n        postId: post.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments\",\n        children: post.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [comment.user, \": \", comment.content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: new Date(comment.created_at).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this)]\n        }, comment.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(PostList, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n_c = PostList;\nexport default PostList;\nvar _c;\n$RefreshReg$(_c, \"PostList\");","map":{"version":3,"names":["React","useState","useEffect","axios","CommentForm","jsxDEV","_jsxDEV","PostList","_s","posts","setPosts","get","then","response","data","catch","error","console","handleLike","postId","post","log","map","id","likes_count","children","className","user","fileName","_jsxFileName","lineNumber","columnNumber","content","image","src","alt","onClick","comments","comment","Date","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["D:/react_django/frontend/src/components/PostList.js"],"sourcesContent":["// PostList.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport CommentForm from './CommentForm';\r\n\r\nconst PostList = () => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:8000/posts/')\r\n      .then(response => {\r\n        setPosts(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"There was an error fetching the posts!\", error);\r\n      });\r\n  }, []);\r\n\r\n  const handleLike = (postId) => {\r\n    axios.post(`http://localhost:8000/like/${postId}/`)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        // Update the state to reflect the like change\r\n        setPosts(posts.map(post => post.id === postId ? { ...post, likes_count: post.likes_count + 1 } : post));\r\n      })\r\n      .catch(error => console.error(\"Error liking post\", error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {posts.map(post => (\r\n        <div key={post.id} className=\"post\">\r\n          <h3>{post.user}</h3>\r\n          <p>{post.content}</p>\r\n          {post.image && <img src={`http://localhost:8000${post.image}`} alt=\"Post\" />}\r\n          <button onClick={() => handleLike(post.id)}>Like ({post.likes_count})</button>\r\n          <CommentForm postId={post.id} />\r\n          <div className=\"comments\">\r\n            {post.comments.map(comment => (\r\n              <div key={comment.id} className=\"comment\">\r\n                <p>{comment.user}: {comment.content}</p>\r\n                <small>{new Date(comment.created_at).toLocaleString()}</small>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}