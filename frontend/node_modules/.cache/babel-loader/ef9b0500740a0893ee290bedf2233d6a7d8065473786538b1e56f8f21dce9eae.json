{"ast":null,"code":"var _jsxFileName = \"D:\\\\react_django\\\\frontend\\\\src\\\\components\\\\CardSlider.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from \"react\";\nimport \"./Cards.css\"; // Import external CSS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cards = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  // Use useMemo to create a stable reference to refs\n  const cardRefs = _s(useMemo(_s(() => {\n    _s();\n    return [useRef(null), useRef(null), useRef(null), useRef(null)];\n  }, \"lMpx0MGaj6zlHbbg/dUVn445DPc=\"), []), \"lMpx0MGaj6zlHbbg/dUVn445DPc=\");\n  const [visible, setVisible] = useState([false, false, false, false]);\n  useEffect(() => {\n    const observers = cardRefs.map((cardRef, index) => {\n      if (!cardRef.current) return null;\n      const observer = new IntersectionObserver(entries => {\n        entries.forEach(entry => {\n          setVisible(prev => {\n            const newState = [...prev];\n            newState[index] = entry.isIntersecting;\n            return newState;\n          });\n        });\n      }, {\n        threshold: 0.3\n      });\n      observer.observe(cardRef.current);\n      return observer;\n    });\n    return () => {\n      observers.forEach((observer, index) => {\n        if (observer && cardRefs[index].current) {\n          observer.unobserve(cardRefs[index].current);\n        }\n      });\n    };\n  }, [cardRefs]); // ✅ Fixed: Now 'cardRefs' is stable and doesn't cause extra renders\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cards-container\",\n    children: [\"Image 1\", \"Image 2\", \"Image 3\", \"Image 4\"].map((text, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: cardRefs[index],\n      className: `card ${visible[index] ? \"visible\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/images/image${index + 1}.jpg`,\n        alt: `Card ${index + 1}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [text, \" - Some info about this card.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s2(Cards, \"gnOsetb2vJ6uNPXwVmUCyWw3HgQ=\");\n_c = Cards;\nexport default Cards;\nvar _c;\n$RefreshReg$(_c, \"Cards\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","jsxDEV","_jsxDEV","Cards","_s2","_s","$RefreshSig$","cardRefs","visible","setVisible","observers","map","cardRef","index","current","observer","IntersectionObserver","entries","forEach","entry","prev","newState","isIntersecting","threshold","observe","unobserve","className","children","text","ref","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/react_django/frontend/src/components/CardSlider.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\nimport \"./Cards.css\"; // Import external CSS\r\n\r\nconst Cards = () => {\r\n  // Use useMemo to create a stable reference to refs\r\n  const cardRefs = useMemo(() => [useRef(null), useRef(null), useRef(null), useRef(null)], []);\r\n\r\n  const [visible, setVisible] = useState([false, false, false, false]);\r\n\r\n  useEffect(() => {\r\n    const observers = cardRefs.map((cardRef, index) => {\r\n      if (!cardRef.current) return null;\r\n\r\n      const observer = new IntersectionObserver(\r\n        (entries) => {\r\n          entries.forEach((entry) => {\r\n            setVisible((prev) => {\r\n              const newState = [...prev];\r\n              newState[index] = entry.isIntersecting;\r\n              return newState;\r\n            });\r\n          });\r\n        },\r\n        { threshold: 0.3 }\r\n      );\r\n\r\n      observer.observe(cardRef.current);\r\n      return observer;\r\n    });\r\n\r\n    return () => {\r\n      observers.forEach((observer, index) => {\r\n        if (observer && cardRefs[index].current) {\r\n          observer.unobserve(cardRefs[index].current);\r\n        }\r\n      });\r\n    };\r\n  }, [cardRefs]); // ✅ Fixed: Now 'cardRefs' is stable and doesn't cause extra renders\r\n\r\n  return (\r\n    <div className=\"cards-container\">\r\n      {[\"Image 1\", \"Image 2\", \"Image 3\", \"Image 4\"].map((text, index) => (\r\n        <div\r\n          key={index}\r\n          ref={cardRefs[index]}\r\n          className={`card ${visible[index] ? \"visible\" : \"\"}`}\r\n        >\r\n          <img src={`/images/image${index + 1}.jpg`} alt={`Card ${index + 1}`} />\r\n          <p>{text} - Some info about this card.</p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cards;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}